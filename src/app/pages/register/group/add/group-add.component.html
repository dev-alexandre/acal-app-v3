<form [formGroup]="form" (ngSubmit)="onSubmit()" class="needs-validation" novalidate [nbSpinner]="loading">
  <nb-card accent="success">

    <nb-card-header>
      Grupos
    </nb-card-header>

    <nb-card-body>
      <div class="form-row">
        <div class="col-6">

            <app-select-category
              [form]="category"
              [submitted]="submitted"
              (setValue)="setCategory($event)"
            >
            </app-select-category>

        </div>

        <div class="col-3">
          <label for="name" class="label">Nome</label>
          <input
            id="name"
            nbInput
            type="text"
            fullWidth
            [formControl]="name"
            placeholder="Nome"
            [status]="(!submitted? 'basic': (name.valid)? 'success':'danger' ) "
            >

          <div *ngIf="name.invalid && submitted">

            <p class="caption status-danger" *ngIf="name.errors?.['required']">
              Nome é obrigatório.
            </p>

            <p class="caption status-danger" *ngIf="name.errors?.['minlength']">
              Nome deve ter pelo menos 1 caracteres
            </p>

            <p class="caption status-danger" *ngIf="name.errors?.['maxlength']">
              Nome deve ter no maximo 100 caracteres
            </p>

          </div>
        </div>

        <div class="col-3">
          <label for="monetaryValue" class="label">Valor</label>
          <input
            id="monetaryValue"
            nbInput
            type="text"
            prefix="R$ "
            mask="separator.2"
            thousandSeparator="."
            fullWidth
            [formControl]="monetaryValue"
            placeholder="Valor"
            [status]="(!submitted? 'basic': (monetaryValue.valid)? 'success':'danger' ) "
            >

          <div *ngIf="monetaryValue.invalid && submitted">

            <p class="caption status-danger" *ngIf="monetaryValue.errors?.['required']">
              Valor é obrigatório.
            </p>

          </div>
        </div>


      </div>
    </nb-card-body>

    <nb-card-footer>
      <button type="button" nbButton status="basic" (click)="voltar()">Voltar</button>
      <button type="submit" nbButton status="success" class="float-right">Salvar</button>
    </nb-card-footer>

  </nb-card>
</form>
